<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>GeoTagApp</title>
		<link rel='stylesheet' href='./stylesheets/style.css'/>

		<meta name="viewport" content="width=device-width, initial-scale=1.0">
	</head>

	<body>

		<header class="header">
			<img src="./images/location.png" class="header__image" alt="an image of a map and location">
			<h1 class="header__title">GeoTagApp</h1>
			<nav class="header__navigation">
				<a href="#">About</a> | <a href="#">Help</a> | <a href="/">Home</a>
			</nav>
		</header>

		<main class="main">
			<section class="main__tagging tagging">
				<h2>Tagging</h2>

				<!-- ############### Aufgabe1a Form1 Start -->
				<form id="taggingForm">
					<fieldset>
						<legend>Add a new GeoTag</legend>

						<label for="taggingLatitude">Latitude:</label>
						<input type="text" name="latitude" id="taggingLatitude" placeholder="e.g. 45.0" value="<%= locals.latitude || '' %>" required>
						
						<label for="taggingLongitude">Longitude:</label>
						<input type="text" name="longitude" id="taggingLongitude" placeholder="e.g. 90.5" value="<%= locals.longitude || '' %>" required>

						<label for="taggingName">Name:</label>
						<input type="text" name="name" id="taggingName" placeholder="e.g. Central Berlin" required pattern="^[a-zA-Z]+$" maxlength="10">
	
						<label for="taggingHashtag">Hashtag:</label>
						<input type="text" name="hashtag" id="taggingHashtag" placeholder="e.g. #ber" pattern="^#[a-zA-Z]{1,10}$">

						<input type="submit" value="Add Tag">
					</fieldset>
				</form>
				<!-- ############### Aufgabe1a Form1 Ende -->

			</section>

			<section class="main__discovery discovery">
				<h2 class="discovery__title">Discovery</h2>

				<!-- ############### Aufgabe1a Form2 Start -->
				<form class="discovery__search" id="discoveryFilterForm">
					<fieldset>
						<legend>Search</legend>

						<label for="discoverySearch">Search term or keywords:</label>
						<input type="text" name="searchterm" id="discoverySearch" placeholder="Berlin">

						<input type="hidden" name="latitude" id="discoveryLatitude" value="<%= locals.latitude || '' %>">
						<input type="hidden" name="longitude" id="discoveryLongitude" value="<%= locals.longitude || '' %>">
	
						<input type="submit" value="Search">
						<button class="discovery__clear type="button">Clear</button>
					</fieldset>
				</form>
				<!-- ############### Aufgabe1a Form2 Ende -->

				<div class="discovery__wrapper">
					<div class="discovery__taglist">
						<ul class="discovery__results" id="discoveryResults">
							<% if (taglist !== undefined) taglist.forEach(function(gtag) { %>
								<li><%= gtag.name %> (<%= gtag.location.latitude %>,<%= gtag.location.longitude %>) <%= gtag.hashtag %> </li>
							<% }); %>
						</ul>
					</div>
	
					<div class="discovery__map">
						<img src="./images/mapview.jpg" alt="a map with locations" id="mapView" data-tags="<%= taglistJson %>" />
						<span>Result map</span>
					</div>
				</div>
			</section>

		</main>

		<footer class="footer">
			<span>2020 by gani1014</span>
		</footer>

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
		<script src="./javascripts/geotagging.js"></script>
	</body>
</html>